<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Critical Minerals Intelligence Platform | Rare Earth Elements Tracker</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Live tracker for rare earth elements, critical minerals supply chains, pricing trends, and geopolitical analysis. Monitor neodymium, dysprosium, and 15+ elements used in EVs, wind turbines, electronics, and defense systems.">
    <meta name="keywords" content="rare earth elements, critical minerals, neodymium, dysprosium, terbium, supply chain security, China rare earth dominance, EV materials, wind turbine magnets, strategic minerals, REE tracker, mineral commodities">
    <meta name="author" content="Your Name">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yourusername.github.io/rare-earth-tracker/">
    <meta property="og:title" content="Critical Minerals Intelligence Platform | Rare Earth Elements Tracker">
    <meta property="og:description" content="Comprehensive tracking of rare earth elements supply chains, pricing, and geopolitical risks for policy makers and industry stakeholders.">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://yourusername.github.io/rare-earth-tracker/">
    <meta property="twitter:title" content="Critical Minerals Intelligence Platform">
    <meta property="twitter:description" content="Live tracker for rare earth elements supply chains, pricing trends, and geopolitical analysis.">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.min.js"></script>
    
    <!-- Syracuse University Style Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&family=Encode+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-blue: #1e3a8a;
            --secondary-blue: #3b82f6;
            --accent-orange: #f97316;
            --accent-teal: #14b8a6;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-700: #374151;
            --gray-900: #111827;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Open Sans', 'Segoe UI', Tahoma, sans-serif;
            background: linear-gradient(135deg, #e0f2fe 0%, #dbeafe 50%, #e0e7ff 100%);
            color: var(--gray-900);
            line-height: 1.6;
        }

        .header {
            background: white;
            padding: 30px 40px 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-main {
            max-width: 1400px;
            margin: 0 auto;
            text-align: center;
            margin-bottom: 20px;
        }

        .header h1 {
            font-family: 'Encode Sans', sans-serif;
            color: var(--primary-blue);
            font-size: 2.5em;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .header-subtitle {
            color: var(--gray-700);
            font-size: 1.05em;
            max-width: 800px;
            margin: 0 auto;
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            gap: 12px;
            flex-wrap: wrap;
            max-width: 1400px;
            margin: 0 auto;
        }

        .nav-tab {
            padding: 12px 24px;
            background: var(--gray-100);
            color: var(--gray-700);
            border: 2px solid transparent;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.95em;
            font-weight: 600;
            transition: all 0.3s;
            font-family: 'Encode Sans', sans-serif;
        }

        .nav-tab:hover {
            background: var(--gray-200);
            border-color: var(--secondary-blue);
        }

        .nav-tab.active {
            background: var(--primary-blue);
            color: white;
            border-color: var(--primary-blue);
        }

        .container {
            max-width: 1400px;
            margin: 20px auto;
            padding: 0 20px;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.4s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            margin-bottom: 20px;
        }

        .card h2 {
            font-family: 'Encode Sans', sans-serif;
            color: var(--primary-blue);
            margin-bottom: 20px;
            font-size: 1.5em;
            font-weight: 700;
            border-bottom: 3px solid var(--accent-orange);
            padding-bottom: 10px;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .full-width {
            grid-column: 1 / -1;
        }

        /* Periodic Table Styles */
        .periodic-table-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
        }

        .periodic-table {
            display: grid;
            grid-template-columns: repeat(18, 50px);
            gap: 2px;
            margin: 20px auto;
            width: fit-content;
        }

        .element {
            width: 50px;
            height: 50px;
            border: 1px solid #ddd;
            border-radius: 4px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-size: 0.7em;
            background: #f8f9fa;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }

        .element:hover {
            transform: scale(1.15);
            z-index: 10;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .element.empty {
            background: transparent;
            border: none;
            cursor: default;
        }

        .element.empty:hover {
            transform: none;
            box-shadow: none;
        }

        .element.rare-earth {
            background: linear-gradient(135deg, #3b82f6, #14b8a6);
            color: white;
            border-color: #2563eb;
            font-weight: bold;
        }

        .element.lanthanide-placeholder {
            background: linear-gradient(135deg, #8b5cf6, #a78bfa);
            color: white;
            border-color: #7c3aed;
        }

        .element .number {
            font-size: 0.65em;
            opacity: 0.8;
            position: absolute;
            top: 2px;
            left: 3px;
        }

        .element .symbol {
            font-size: 1.2em;
            font-weight: bold;
        }

        .element .name {
            font-size: 0.5em;
            opacity: 0.9;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 45px;
        }

        .lanthanides-row {
            display: grid;
            grid-template-columns: repeat(15, 50px);
            gap: 2px;
            margin: 30px auto 10px;
            width: fit-content;
        }

        .series-label {
            font-size: 0.85em;
            color: var(--gray-700);
            font-weight: 600;
            margin-bottom: 8px;
            text-align: center;
        }

        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .stat-card {
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            color: white;
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .stat-card .label {
            font-size: 0.9em;
            opacity: 0.95;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .stat-card .value {
            font-size: 2.8em;
            font-weight: 700;
            margin: 10px 0;
            font-family: 'Encode Sans', sans-serif;
        }

        .stat-card .sublabel {
            font-size: 0.85em;
            opacity: 0.9;
        }

        .stat-card.orange {
            background: linear-gradient(135deg, var(--accent-orange), #fb923c);
        }

        .stat-card.teal {
            background: linear-gradient(135deg, var(--accent-teal), #5eead4);
        }

        .stat-card.green {
            background: linear-gradient(135deg, var(--success), #34d399);
        }

        /* Map */
        #map {
            height: 500px;
            border-radius: 8px;
            margin-top: 10px;
        }

        /* Charts */
        .chart-container {
            position: relative;
            height: 350px;
            margin-top: 15px;
        }

        /* Tables */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }

        .data-table th {
            background: var(--primary-blue);
            color: white;
            padding: 14px;
            text-align: left;
            font-weight: 600;
            font-size: 0.9em;
        }

        .data-table td {
            padding: 12px 14px;
            border-bottom: 1px solid var(--gray-200);
        }

        .data-table tr:hover {
            background: var(--gray-50);
        }

        /* Risk Indicators */
        .risk-indicator {
            display: inline-block;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .risk-high, .risk-critical, .risk-very-high { 
            background: #fee2e2; 
            color: #991b1b; 
        }
        .risk-medium, .risk-moderate { 
            background: #fef3c7; 
            color: #92400e; 
        }
        .risk-low { 
            background: #d1fae5; 
            color: #065f46; 
        }

        /* Workflow */
        .workflow-diagram {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 30px 20px;
            background: var(--gray-50);
            border-radius: 8px;
            margin: 15px 0;
        }

        .workflow-step {
            text-align: center;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.08);
            flex: 1;
            margin: 0 10px;
        }

        .workflow-step h3 {
            color: var(--primary-blue);
            margin: 10px 0 5px;
            font-family: 'Encode Sans', sans-serif;
        }

        .workflow-arrow {
            font-size: 2em;
            color: var(--accent-orange);
            font-weight: bold;
        }

        /* Legend */
        .legend {
            display: flex;
            gap: 25px;
            flex-wrap: wrap;
            margin: 20px 0;
            padding: 20px;
            background: var(--gray-50);
            border-radius: 8px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .legend-color {
            width: 24px;
            height: 24px;
            border-radius: 4px;
            border: 1px solid var(--gray-200);
        }

        @media (max-width: 1024px) {
            .grid-2 {
                grid-template-columns: 1fr;
            }
            .header h1 {
                font-size: 1.8em;
            }
            .periodic-table {
                grid-template-columns: repeat(18, 40px);
            }
            .element {
                width: 40px;
                height: 40px;
            }
            .workflow-diagram {
                flex-direction: column;
            }
            .workflow-arrow {
                transform: rotate(90deg);
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-main">
            <h1>üåç Critical Minerals Intelligence Platform</h1>
            <p class="header-subtitle">Comprehensive tracking of rare earth elements for policy, industry & investment decisions</p>
        </div>
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('overview')">Overview</button>
            <button class="nav-tab" onclick="showTab('periodic')">Periodic Table</button>
            <button class="nav-tab" onclick="showTab('supply-chain')">Supply Chain</button>
            <button class="nav-tab" onclick="showTab('trends')">Historical Trends</button>
            <button class="nav-tab" onclick="showTab('stakeholders')">Stakeholder View</button>
        </div>
    </div>

    <div class="container">
        <!-- OVERVIEW TAB -->
        <div id="overview" class="tab-content active">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="label">Total REE Production</div>
                    <div class="value">280K</div>
                    <div class="sublabel">tons/year (2024)</div>
                </div>
                <div class="stat-card orange">
                    <div class="label">China Market Share</div>
                    <div class="value">60%</div>
                    <div class="sublabel">Global dominance</div>
                </div>
                <div class="stat-card teal">
                    <div class="label">Critical Elements</div>
                    <div class="value">5</div>
                    <div class="sublabel">Highest supply risk</div>
                </div>
                <div class="stat-card green">
                    <div class="label">Avg Price Growth</div>
                    <div class="value">+18%</div>
                    <div class="sublabel">Year-over-year (2023-24)</div>
                </div>
            </div>

            <div class="card">
                <h2>üìç Global Mining Operations</h2>
                <div id="map"></div>
            </div>

            <div class="grid-2">
                <div class="card">
                    <h2>üìä Production by Country</h2>
                    <div class="chart-container">
                        <canvas id="productionChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <h2>üéØ End-Use Applications</h2>
                    <div class="chart-container">
                        <canvas id="applicationsChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- PERIODIC TABLE TAB -->
        <div id="periodic" class="tab-content">
            <div class="card">
                <h2>‚öõÔ∏è Periodic Table - Rare Earth Elements Highlighted</h2>
                
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background: linear-gradient(135deg, #3b82f6, #14b8a6);"></div>
                        <span><strong>Rare Earth Elements</strong> (Critical minerals tracked)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #f8f9fa;"></div>
                        <span>Other Elements</span>
                    </div>
                </div>

                <div class="periodic-table" id="periodicTable"></div>
                
                <div style="margin-top: 40px;">
                    <div class="series-label">Lanthanide Series (Rare Earths)</div>
                    <div class="lanthanides-row" id="lanthanidesRow"></div>
                </div>
            </div>

            <div class="card">
                <h2>üìã Critical Element Database</h2>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Element</th>
                            <th>Symbol</th>
                            <th>Atomic #</th>
                            <th>Criticality</th>
                            <th>Primary Applications</th>
                            <th>Supply Risk</th>
                        </tr>
                    </thead>
                    <tbody id="elementTable"></tbody>
                </table>
            </div>
        </div>

        <!-- SUPPLY CHAIN TAB -->
        <div id="supply-chain" class="tab-content">
            <div class="card">
                <h2>üîÑ Rare Earth Supply Chain Workflow</h2>
                <div class="workflow-diagram">
                    <div class="workflow-step">
                        <div style="font-size: 2.5em;">‚õèÔ∏è</div>
                        <h3>Mining</h3>
                        <p style="color: var(--gray-700); font-size: 0.9em; margin-top: 8px;">Ore extraction<br>3-5% REE content</p>
                    </div>
                    <div class="workflow-arrow">‚Üí</div>
                    <div class="workflow-step">
                        <div style="font-size: 2.5em;">‚öóÔ∏è</div>
                        <h3>Separation</h3>
                        <p style="color: var(--gray-700); font-size: 0.9em; margin-top: 8px;">Chemical processing<br>Individual elements</p>
                    </div>
                    <div class="workflow-arrow">‚Üí</div>
                    <div class="workflow-step">
                        <div style="font-size: 2.5em;">üè≠</div>
                        <h3>Refining</h3>
                        <p style="color: var(--gray-700); font-size: 0.9em; margin-top: 8px;">Purification<br>99.9% purity</p>
                    </div>
                    <div class="workflow-arrow">‚Üí</div>
                    <div class="workflow-step">
                        <div style="font-size: 2.5em;">üîß</div>
                        <h3>Manufacturing</h3>
                        <p style="color: var(--gray-700); font-size: 0.9em; margin-top: 8px;">Magnets, alloys<br>Components</p>
                    </div>
                    <div class="workflow-arrow">‚Üí</div>
                    <div class="workflow-step">
                        <div style="font-size: 2.5em;">üöó</div>
                        <h3>End Products</h3>
                        <p style="color: var(--gray-700); font-size: 0.9em; margin-top: 8px;">EVs, turbines<br>Electronics</p>
                    </div>
                </div>
            </div>

            <div class="grid-2">
                <div class="card">
                    <h2>‚è±Ô∏è Lead Time Analysis</h2>
                    <div class="chart-container">
                        <canvas id="leadTimeChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <h2>üîÑ Recycling Status</h2>
                    <div class="chart-container">
                        <canvas id="recyclingChart"></canvas>
                    </div>
                </div>

                <div class="card full-width">
                    <h2>üåç Import Dependency Analysis (2024)</h2>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Country/Region</th>
                                <th>Import Dependency</th>
                                <th>Primary Source</th>
                                <th>Risk Assessment</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>üá∫üá∏ United States</td>
                                <td><strong>80%</strong></td>
                                <td>China</td>
                                <td><span class="risk-indicator risk-high">High Risk</span></td>
                            </tr>
                            <tr>
                                <td>üá™üá∫ European Union</td>
                                <td><strong>98%</strong></td>
                                <td>China</td>
                                <td><span class="risk-indicator risk-critical">Critical</span></td>
                            </tr>
                            <tr>
                                <td>üáØüáµ Japan</td>
                                <td><strong>100%</strong></td>
                                <td>China</td>
                                <td><span class="risk-indicator risk-critical">Critical</span></td>
                            </tr>
                            <tr>
                                <td>üá¶üá∫ Australia</td>
                                <td><strong>15%</strong></td>
                                <td>Domestic production</td>
                                <td><span class="risk-indicator risk-low">Low Risk</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- HISTORICAL TRENDS TAB -->
        <div id="trends" class="tab-content">
            <div class="grid-2">
                <div class="card">
                    <h2>üìà Price Trends (2015-2025)</h2>
                    <div class="chart-container">
                        <canvas id="priceHistoryChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <h2>üìä Production Volume Trends</h2>
                    <div class="chart-container">
                        <canvas id="productionTrendChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <h2>üîÆ Demand Forecast by Sector</h2>
                    <div class="chart-container">
                        <canvas id="demandForecastChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <h2>üí∞ Price Volatility Index</h2>
                    <div class="chart-container">
                        <canvas id="volatilityChart"></canvas>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2>üìÖ Key Market Events Timeline</h2>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Year</th>
                            <th>Event</th>
                            <th>Market Impact</th>
                            <th>Price Change</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>2010</strong></td>
                            <td>China implements export quotas</td>
                            <td>Global supply shock</td>
                            <td style="color: #ef4444; font-weight: bold;">+750%</td>
                        </tr>
                        <tr>
                            <td><strong>2015</strong></td>
                            <td>WTO rules against quotas - removed</td>
                            <td>Price correction</td>
                            <td style="color: #10b981; font-weight: bold;">-60%</td>
                        </tr>
                        <tr>
                            <td><strong>2019</strong></td>
                            <td>US-China trade war escalates</td>
                            <td>Market uncertainty</td>
                            <td style="color: #ef4444; font-weight: bold;">+25%</td>
                        </tr>
                        <tr>
                            <td><strong>2021</strong></td>
                            <td>EV adoption accelerates globally</td>
                            <td>Structural demand shift</td>
                            <td style="color: #ef4444; font-weight: bold;">+140%</td>
                        </tr>
                        <tr>
                            <td><strong>2024</strong></td>
                            <td>US IRA drives domestic production</td>
                            <td>Supply diversification begins</td>
                            <td style="color: #f59e0b; font-weight: bold;">+18%</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- STAKEHOLDER VIEW TAB -->
        <div id="stakeholders" class="tab-content">
            <div class="card">
                <h2>üéØ Technology Roadmap: REE Usage by Application</h2>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Technology Sector</th>
                            <th>Key REEs Required</th>
                            <th>Quantity per Unit</th>
                            <th>Annual Growth Rate</th>
                            <th>Substitution Potential</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>üöó Electric Vehicles</strong></td>
                            <td>Nd, Pr, Dy, Tb</td>
                            <td>0.5-1.5 kg per vehicle</td>
                            <td style="color: #10b981; font-weight: bold;">+25%/year</td>
                            <td><span class="risk-indicator risk-high">Very Low</span></td>
                        </tr>
                        <tr>
                            <td><strong>üå¨Ô∏è Wind Turbines</strong></td>
                            <td>Nd, Pr, Dy</td>
                            <td>200-600 kg per MW</td>
                            <td style="color: #10b981; font-weight: bold;">+18%/year</td>
                            <td><span class="risk-indicator risk-medium">Medium</span></td>
                        </tr>
                        <tr>
                            <td><strong>üì± Consumer Electronics</strong></td>
                            <td>Nd, La, Y, Eu</td>
                            <td>5-20 g per device</td>
                            <td style="color: #f59e0b; font-weight: bold;">+8%/year</td>
                            <td><span class="risk-indicator risk-medium">Medium</span></td>
                        </tr>
                        <tr>
                            <td><strong>üõ°Ô∏è Defense Systems</strong></td>
                            <td>Nd, Sm, Tb, Dy</td>
                            <td>Classified</td>
                            <td style="color: #10b981; font-weight: bold;">+12%/year</td>
                            <td><span class="risk-indicator risk-critical">Critical - No Alternative</span></td>
                        </tr>
                        <tr>
                            <td><strong>üí° LED Lighting</strong></td>
                            <td>Y, Eu, Tb</td>
                            <td>0.1-0.5 g per unit</td>
                            <td style="color: #6b7280;">Stable</td>
                            <td><span class="risk-indicator risk-low">High</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="grid-2">
                <div class="card">
                    <h2>üèõÔ∏è Government & Policy Makers</h2>
                    <h3 style="color: var(--accent-orange); margin: 15px 0; font-size: 1.1em;">Strategic Priorities</h3>
                    <ul style="line-height: 2; color: var(--gray-700);">
                        <li>Supply chain resilience & diversification</li>
                        <li>National security implications</li>
                        <li>Strategic reserve management</li>
                        <li>Trade policy & international cooperation</li>
                        <li>Domestic production incentives</li>
                    </ul>
                    <div style="background: var(--gray-50); padding: 20px; border-radius: 8px; margin: 20px 0;">
                        <h4 style="color: var(--primary-blue); margin-bottom: 15px;">Key Metrics</h4>
                        <p><strong>Import Dependency:</strong> 80% (US average)</p>
                        <p><strong>Domestic Capacity:</strong> 20,000 tons/year</p>
                        <p><strong>Strategic Reserves:</strong> 1.2M tons estimated</p>
                        <p><strong>Risk Level:</strong> <span class="risk-indicator risk-high">High</span></p>
                    </div>
                </div>

                <div class="card">
                    <h2>üè≠ OEMs & Manufacturers</h2>
                    <h3 style="color: var(--accent-orange); margin: 15px 0; font-size: 1.1em;">Business Critical Needs</h3>
                    <ul style="line-height: 2; color: var(--gray-700);">
                        <li>Price forecasting & volatility management</li>
                        <li>Supplier reliability assessment</li>
                        <li>Alternative materials R&D roadmap</li>
                        <li>Inventory optimization strategies</li>
                        <li>Long-term contracting opportunities</li>
                    </ul>
                    <div style="background: var(--gray-50); padding: 20px; border-radius: 8px; margin: 20px 0;">
                        <h4 style="color: var(--primary-blue); margin-bottom: 15px;">Cost Analysis</h4>
                        <p><strong>Average Lead Time:</strong> 6-12 months</p>
                        <p><strong>Price Volatility:</strong> ¬±35% annually</p>
                        <p><strong>REE Cost per EV:</strong> $800-1,200</p>
                        <p><strong>Alternatives:</strong> <span class="risk-indicator risk-medium">Limited Options</span></p>
                    </div>
                </div>

                <div class="card">
                    <h2>üìä Investors & Analysts</h2>
                    <h3 style="color: var(--accent-orange); margin: 15px 0; font-size: 1.1em;">Investment Signals</h3>
                    <ul style="line-height: 2; color: var(--gray-700);">
                        <li>Market concentration risk analysis</li>
                        <li>Emerging mining project pipeline</li>
                        <li>Technology disruption scenarios</li>
                        <li>ESG compliance & sustainability</li>
                        <li>Geopolitical risk hedging</li>
                    </ul>
                    <div style="background: var(--gray-50); padding: 20px; border-radius: 8px; margin: 20px 0;">
                        <h4 style="color: var(--primary-blue); margin-bottom: 15px;">Market Outlook</h4>
                        <p><strong>Market Size (2024):</strong> $8.5 billion</p>
                        <p><strong>CAGR (2024-30):</strong> 12.4%</p>
                        <p><strong>Projects Pipeline:</strong> 25+ globally</p>
                        <p><strong>Investment Grade:</strong> <span class="risk-indicator risk-medium">Moderate Risk/High Growth</span></p>
                    </div>
                </div>

                <div class="card">
                    <h2>üå± Environmental Impact</h2>
                    <h3 style="color: var(--accent-orange); margin: 15px 0; font-size: 1.1em;">Sustainability Metrics</h3>
                    <ul style="line-height: 2; color: var(--gray-700);">
                        <li><strong>CO‚ÇÇ Emissions:</strong> 8-12 tons per ton of REE produced</li>
                        <li><strong>Water Usage:</strong> 10,000+ liters per ton</li>
                        <li><strong>Land Disturbance:</strong> 0.5-2 hectares per year</li>
                        <li><strong>Radioactive Waste:</strong> Significant concern in processing</li>
                        <li><strong>Current Recycling Rate:</strong> &lt;1% globally</li>
                        <li><strong>2030 Recycling Target:</strong> 15-20%</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ============ PERIODIC TABLE DATA ============
        const periodicElements = [
            // Period 1
            {symbol: 'H', name: 'Hydrogen', number: 1, col: 1}, 
            {symbol: 'He', name: 'Helium', number: 2, col: 18},
            // Period 2
            {symbol: 'Li', name: 'Lithium', number: 3, col: 1},
            {symbol: 'Be', name: 'Beryllium', number: 4, col: 2},
            {symbol: 'B', name: 'Boron', number: 5, col: 13},
            {symbol: 'C', name: 'Carbon', number: 6, col: 14},
            {symbol: 'N', name: 'Nitrogen', number: 7, col: 15},
            {symbol: 'O', name: 'Oxygen', number: 8, col: 16},
            {symbol: 'F', name: 'Fluorine', number: 9, col: 17},
            {symbol: 'Ne', name: 'Neon', number: 10, col: 18},
            // Period 3
            {symbol: 'Na', name: 'Sodium', number: 11, col: 1},
            {symbol: 'Mg', name: 'Magnesium', number: 12, col: 2},
            {symbol: 'Al', name: 'Aluminum', number: 13, col: 13},
            {symbol: 'Si', name: 'Silicon', number: 14, col: 14},
            {symbol: 'P', name: 'Phosphorus', number: 15, col: 15},
            {symbol: 'S', name: 'Sulfur', number: 16, col: 16},
            {symbol: 'Cl', name: 'Chlorine', number: 17, col: 17},
            {symbol: 'Ar', name: 'Argon', number: 18, col: 18},
            // Period 4
            {symbol: 'K', name: 'Potassium', number: 19, col: 1},
            {symbol: 'Ca', name: 'Calcium', number: 20, col: 2},
            {symbol: 'Sc', name: 'Scandium', number: 21, col: 3, isRareEarth: true},
            {symbol: 'Ti', name: 'Titanium', number: 22, col: 4},
            {symbol: 'V', name: 'Vanadium', number: 23, col: 5},
            {symbol: 'Cr', name: 'Chromium', number: 24, col: 6},
            {symbol: 'Mn', name: 'Manganese', number: 25, col: 7},
            {symbol: 'Fe', name: 'Iron', number: 26, col: 8},
            {symbol: 'Co', name: 'Cobalt', number: 27, col: 9},
            {symbol: 'Ni', name: 'Nickel', number: 28, col: 10},
            {symbol: 'Cu', name: 'Copper', number: 29, col: 11},
            {symbol: 'Zn', name: 'Zinc', number: 30, col: 12},
            {symbol: 'Ga', name: 'Gallium', number: 31, col: 13},
            {symbol: 'Ge', name: 'Germanium', number: 32, col: 14},
            {symbol: 'As', name: 'Arsenic', number: 33, col: 15},
            {symbol: 'Se', name: 'Selenium', number: 34, col: 16},
            {symbol: 'Br', name: 'Bromine', number: 35, col: 17},
            {symbol: 'Kr', name: 'Krypton', number: 36, col: 18},
            // Period 5
            {symbol: 'Rb', name: 'Rubidium', number: 37, col: 1},
            {symbol: 'Sr', name: 'Strontium', number: 38, col: 2},
            {symbol: 'Y', name: 'Yttrium', number: 39, col: 3, isRareEarth: true},
            {symbol: 'Zr', name: 'Zirconium', number: 40, col: 4},
            {symbol: 'Nb', name: 'Niobium', number: 41, col: 5},
            {symbol: 'Mo', name: 'Molybdenum', number: 42, col: 6},
            {symbol: 'Tc', name: 'Technetium', number: 43, col: 7},
            {symbol: 'Ru', name: 'Ruthenium', number: 44, col: 8},
            {symbol: 'Rh', name: 'Rhodium', number: 45, col: 9},
            {symbol: 'Pd', name: 'Palladium', number: 46, col: 10},
            {symbol: 'Ag', name: 'Silver', number: 47, col: 11},
            {symbol: 'Cd', name: 'Cadmium', number: 48, col: 12},
            {symbol: 'In', name: 'Indium', number: 49, col: 13},
            {symbol: 'Sn', name: 'Tin', number: 50, col: 14},
            {symbol: 'Sb', name: 'Antimony', number: 51, col: 15},
            {symbol: 'Te', name: 'Tellurium', number: 52, col: 16},
            {symbol: 'I', name: 'Iodine', number: 53, col: 17},
            {symbol: 'Xe', name: 'Xenon', number: 54, col: 18},
            // Period 6
            {symbol: 'Cs', name: 'Cesium', number: 55, col: 1},
            {symbol: 'Ba', name: 'Barium', number: 56, col: 2},
            {symbol: 'La-Lu', name: 'Lanthanides', number: 0, col: 3, isLanthanide: true},
            {symbol: 'Hf', name: 'Hafnium', number: 72, col: 4},
            {symbol: 'Ta', name: 'Tantalum', number: 73, col: 5},
            {symbol: 'W', name: 'Tungsten', number: 74, col: 6},
            {symbol: 'Re', name: 'Rhenium', number: 75, col: 7},
            {symbol: 'Os', name: 'Osmium', number: 76, col: 8},
            {symbol: 'Ir', name: 'Iridium', number: 77, col: 9},
            {symbol: 'Pt', name: 'Platinum', number: 78, col: 10},
            {symbol: 'Au', name: 'Gold', number: 79, col: 11},
            {symbol: 'Hg', name: 'Mercury', number: 80, col: 12},
            {symbol: 'Tl', name: 'Thallium', number: 81, col: 13},
            {symbol: 'Pb', name: 'Lead', number: 82, col: 14},
            {symbol: 'Bi', name: 'Bismuth', number: 83, col: 15},
            {symbol: 'Po', name: 'Polonium', number: 84, col: 16},
            {symbol: 'At', name: 'Astatine', number: 85, col: 17},
            {symbol: 'Rn', name: 'Radon', number: 86, col: 18}
        ];

        const lanthanides = [
            {symbol: 'La', name: 'Lanthanum', number: 57},
            {symbol: 'Ce', name: 'Cerium', number: 58},
            {symbol: 'Pr', name: 'Praseodymium', number: 59},
            {symbol: 'Nd', name: 'Neodymium', number: 60},
            {symbol: 'Pm', name: 'Promethium', number: 61},
            {symbol: 'Sm', name: 'Samarium', number: 62},
            {symbol: 'Eu', name: 'Europium', number: 63},
            {symbol: 'Gd', name: 'Gadolinium', number: 64},
            {symbol: 'Tb', name: 'Terbium', number: 65},
            {symbol: 'Dy', name: 'Dysprosium', number: 66},
            {symbol: 'Ho', name: 'Holmium', number: 67},
            {symbol: 'Er', name: 'Erbium', number: 68},
            {symbol: 'Tm', name: 'Thulium', number: 69},
            {symbol: 'Yb', name: 'Ytterbium', number: 70},
            {symbol: 'Lu', name: 'Lutetium', number: 71}
        ];

        const rareEarthDetails = [
            { name: 'Lanthanum', symbol: 'La', number: 57, criticality: 'Moderate', use: 'Batteries, camera lenses', risk: 'Medium' },
            { name: 'Cerium', symbol: 'Ce', number: 58, criticality: 'Moderate', use: 'Catalytic converters', risk: 'Low' },
            { name: 'Praseodymium', symbol: 'Pr', number: 59, criticality: 'Critical', use: 'Aircraft engines, magnets', risk: 'High' },
            { name: 'Neodymium', symbol: 'Nd', number: 60, criticality: 'Critical', use: 'EV motors, wind turbines', risk: 'High' },
            { name: 'Promethium', symbol: 'Pm', number: 61, criticality: 'Low', use: 'Research applications', risk: 'Low' },
            { name: 'Samarium', symbol: 'Sm', number: 62, criticality: 'Moderate', use: 'Magnets, lasers', risk: 'Medium' },
            { name: 'Europium', symbol: 'Eu', number: 63, criticality: 'Critical', use: 'LED displays, lighting', risk: 'High' },
            { name: 'Gadolinium', symbol: 'Gd', number: 64, criticality: 'Moderate', use: 'MRI contrast agents', risk: 'Medium' },
            { name: 'Terbium', symbol: 'Tb', number: 65, criticality: 'Most Critical', use: 'Magnets, naval sonar', risk: 'Very High' },
            { name: 'Dysprosium', symbol: 'Dy', number: 66, criticality: 'Most Critical', use: 'High-temp magnets', risk: 'Very High' },
            { name: 'Holmium', symbol: 'Ho', number: 67, criticality: 'Low', use: 'Lasers', risk: 'Low' },
            { name: 'Erbium', symbol: 'Er', number: 68, criticality: 'Moderate', use: 'Fiber optics', risk: 'Medium' },
            { name: 'Thulium', symbol: 'Tm', number: 69, criticality: 'Low', use: 'Medical lasers', risk: 'Low' },
            { name: 'Ytterbium', symbol: 'Yb', number: 70, criticality: 'Low', use: 'Industrial lasers', risk: 'Low' },
            { name: 'Lutetium', symbol: 'Lu', number: 71, criticality: 'Low', use: 'PET scan detectors', risk: 'Low' },
            { name: 'Scandium', symbol: 'Sc', number: 21, criticality: 'Moderate', use: 'Aerospace alloys', risk: 'Medium' },
            { name: 'Yttrium', symbol: 'Y', number: 39, criticality: 'Critical', use: 'LEDs, superconductors', risk: 'High' }
        ];

        // Build periodic table
        const periodicTable = document.getElementById('periodicTable');
        let currentRow = 1;
        let currentCol = 1;

        periodicElements.forEach(elem => {
            while (currentCol < elem.col) {
                const emptyDiv = document.createElement('div');
                emptyDiv.className = 'element empty';
                periodicTable.appendChild(emptyDiv);
                currentCol++;
            }

            const elemDiv = document.createElement('div');
            elemDiv.className = `element ${elem.isRareEarth ? 'rare-earth' : ''} ${elem.isLanthanide ? 'lanthanide-placeholder' : ''}`;
            
            if (elem.number > 0) {
                elemDiv.innerHTML = `
                    <span class="number">${elem.number}</span>
                    <div class="symbol">${elem.symbol}</div>
                `;
            } else {
                elemDiv.innerHTML = `<div class="symbol" style="font-size: 0.7em;">${elem.symbol}</div>`;
            }
            
            elemDiv.title = elem.name;
            periodicTable.appendChild(elemDiv);
            
            currentCol++;
            if (currentCol > 18) {
                currentCol = 1;
                currentRow++;
            }
        });

        // Build lanthanides row
        const lanthanidesRow = document.getElementById('lanthanidesRow');
        lanthanides.forEach(elem => {
            const elemDiv = document.createElement('div');
            elemDiv.className = 'element rare-earth';
            elemDiv.innerHTML = `
                <span class="number">${elem.number}</span>
                <div class="symbol">${elem.symbol}</div>
                <div class="name">${elem.name}</div>
            `;
            elemDiv.title = `${elem.name} - Click for details`;
            lanthanidesRow.appendChild(elemDiv);
        });

        // Build element table
        const elementTable = document.getElementById('elementTable');
        rareEarthDetails.forEach(elem => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td><strong>${elem.name}</strong></td>
                <td>${elem.symbol}</td>
                <td>${elem.number}</td>
                <td><span class="risk-indicator risk-${elem.risk.toLowerCase().replace(' ', '-')}">${elem.criticality}</span></td>
                <td>${elem.use}</td>
                <td><span class="risk-indicator risk-${elem.risk.toLowerCase().replace(' ', '-')}">${elem.risk}</span></td>
            `;
            elementTable.appendChild(row);
        });

        // ============ NAVIGATION ============
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.nav-tab').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // ============ MAP ============
        const map = L.map('map').setView([30, 10], 2);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '¬© OpenStreetMap contributors'
        }).addTo(map);

        const productionSites = [
            { name: 'Bayan Obo, China', coords: [41.77, 109.97], production: '140,000 tons/year', share: '50%' },
            { name: 'Mount Weld, Australia', coords: [-28.57, 122.42], production: '20,000 tons/year', share: '7%' },
            { name: 'Mountain Pass, USA', coords: [35.48, -115.53], production: '38,000 tons/year', share: '14%' },
            { name: 'Myanmar Deposits', coords: [23.0, 97.0], production: '25,000 tons/year', share: '9%' },
            { name: 'Lovozero, Russia', coords: [67.9, 34.6], production: '2,500 tons/year', share: '1%' }
        ];

        productionSites.forEach(site => {
            L.circleMarker(site.coords, {
                radius: 8,
                fillColor: '#f97316',
                color: '#fff',
                weight: 2,
                opacity: 1,
                fillOpacity: 0.8
            }).addTo(map).bindPopup(`<strong>${site.name}</strong><br>Production: ${site.production}<br>Share: ${site.share}`);
        });

        // ============ CHARTS ============
        // Production Chart
        new Chart(document.getElementById('productionChart').getContext('2d'), {
            type: 'bar',
            data: {
                labels: ['China', 'USA', 'Myanmar', 'Australia', 'Thailand', 'India', 'Russia', 'Vietnam'],
                datasets: [{
                    label: 'Production (thousands of tons)',
                    data: [140, 38, 25, 20, 8, 3, 2.5, 4.5],
                    backgroundColor: '#3b82f6'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false } }
            }
        });

        // Applications Chart
        new Chart(document.getElementById('applicationsChart').getContext('2d'), {
            type: 'doughnut',
            data: {
                labels: ['Magnets (35%)', 'Catalysts (22%)', 'Metallurgy (18%)', 'Glass (12%)', 'Electronics (8%)', 'Other (5%)'],
                datasets: [{
                    data: [35, 22, 18, 12, 8, 5],
                    backgroundColor: ['#3b82f6', '#14b8a6', '#f97316', '#10b981', '#f59e0b', '#6b7280']
                }]
            },
            options: { responsive: true, maintainAspectRatio: false }
        });

        // Lead Time Chart
        new Chart(document.getElementById('leadTimeChart').getContext('2d'), {
            type: 'bar',
            data: {
                labels: ['Mining', 'Separation', 'Refining', 'Manufacturing', 'Total Lead Time'],
                datasets: [{
                    label: 'Months',
                    data: [3, 2, 1.5, 2, 8.5],
                    backgroundColor: '#1e3a8a'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y',
                plugins: { legend: { display: false } }
            }
        });

        // Recycling Chart
        new Chart(document.getElementById('recyclingChart').getContext('2d'), {
            type: 'doughnut',
            data: {
                labels: ['Virgin Material (99%)', 'Recycled (<1%)'],
                datasets: [{
                    data: [99, 1],
                    backgroundColor: ['#3b82f6', '#10b981']
                }]
            },
            options: { responsive: true, maintainAspectRatio: false }
        });

        // Price History Chart
        new Chart(document.getElementById('priceHistoryChart').getContext('2d'), {
            type: 'line',
            data: {
                labels: ['2015', '2016', '2017', '2018', '2019', '2020', '2021', '2022', '2023', '2024', '2025'],
                datasets: [
                    { label: 'Neodymium', data: [45, 42, 55, 60, 48, 52, 75, 110, 95, 105, 115], borderColor: '#3b82f6', tension: 0.4 },
                    { label: 'Dysprosium', data: [280, 250, 220, 240, 260, 275, 320, 450, 400, 425, 460], borderColor: '#f97316', tension: 0.4 },
                    { label: 'Terbium', data: [450, 420, 400, 435, 460, 480, 550, 680, 620, 650, 700], borderColor: '#14b8a6', tension: 0.4 }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: { y: { title: { display: true, text: 'Price ($/kg)' } } }
            }
        });

        // Production Trend Chart
        new Chart(document.getElementById('productionTrendChart').getContext('2d'), {
            type: 'line',
            data: {
                labels: ['2015', '2016', '2017', '2018', '2019', '2020', '2021', '2022', '2023', '2024', '2025'],
                datasets: [
                    { label: 'China', data: [105, 110, 120, 125, 132, 140, 148, 155, 150, 145, 140], borderColor: '#ef4444', tension: 0.4 },
                    { label: 'Rest of World', data: [25, 28, 32, 35, 40, 45, 55, 70, 85, 100, 115], borderColor: '#10b981', tension: 0.4 }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: { y: { title: { display: true, text: 'Production (thousands of tons)' } } }
            }
        });

        // Demand Forecast Chart
        new Chart(document.getElementById('demandForecastChart').getContext('2d'), {
            type: 'bar',
            data: {
                labels: ['2024', '2025', '2026', '2027', '2028', '2029', '2030'],
                datasets: [
                    { label: 'EVs', data: [45, 55, 68, 85, 105, 130, 160], backgroundColor: '#3b82f6' },
                    { label: 'Wind Energy', data: [35, 40, 46, 53, 62, 72, 85], backgroundColor: '#10b981' },
                    { label: 'Electronics', data: [30, 32, 34, 36, 38, 40, 42], backgroundColor: '#f97316' },
                    { label: 'Other', data: [20, 22, 24, 26, 28, 30, 33], backgroundColor: '#6b7280' }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: { stacked: true },
                    y: { stacked: true, title: { display: true, text: 'Demand (thousands of tons)' } }
                }
            }
        });

        // Volatility Chart
        new Chart(document.getElementById('volatilityChart').getContext('2d'), {
            type: 'bar',
            data: {
                labels: ['Nd', 'Dy', 'Tb', 'Pr', 'Eu', 'Y', 'La', 'Ce'],
                datasets: [{
                    label: 'Annual Volatility (%)',
                    data: [35, 42, 48, 38, 40, 28, 15, 12],
                    backgroundColor: ['#ef4444', '#ef4444', '#ef4444', '#f59e0b', '#f59e0b', '#f59e0b', '#10b981', '#10b981']
                }]
            },
            options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } } }
        });
    </script>
</body>
</html>
